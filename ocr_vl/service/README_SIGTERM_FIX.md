# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã SIGTERM - –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º

**–î–∞—Ç–∞:** 05.12.2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç SIGTERM –∫–∞–∂–¥—ã–µ 37-39 —Å–µ–∫—É–Ω–¥  
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Health Check –Ω–∞ Cloud.ru

## üìö –î–æ–∫—É–º–µ–Ω—Ç—ã (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

### 1. üöÄ –ù–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞: –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç
**–§–∞–π–ª:** `QUICK_FIX_CHECKLIST.md`

**–î–ª—è –∫–æ–≥–æ:** –ù—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å  
**–í—Ä–µ–º—è:** 5 –º–∏–Ω—É—Ç  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- 7 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤
- –¢–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

üëâ **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–µ—Ä–≤—ã–º, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä–æ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É**

---

### 2. ‚ö†Ô∏è –°—Ä–æ—á–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
**–§–∞–π–ª:** `URGENT_HEALTH_CHECK_FIX.md`

**–î–ª—è –∫–æ–≥–æ:** –ù—É–∂–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è  
**–í—Ä–µ–º—è:** 10 –º–∏–Ω—É—Ç —á—Ç–µ–Ω–∏—è + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
- –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ –∫–∞–∂–¥–æ–º —à–∞–≥–µ

üëâ **–û—Ç–∫—Ä–æ–π—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏**

---

### 3. üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
**–§–∞–π–ª:** `SIGTERM_LOOP_ANALYSIS.md`

**–î–ª—è –∫–æ–≥–æ:** –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–∏—á–∏–Ω—É  
**–í—Ä–µ–º—è:** 5 –º–∏–Ω—É—Ç —á—Ç–µ–Ω–∏—è  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ –ø—Ä–æ–±–ª–µ–º—ã
- –ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ü–∏–∫–ª–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- –†–∞—Å—á–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

üëâ **–û—Ç–∫—Ä–æ–π—Ç–µ, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–Ω—è—Ç—å –ø–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**

---

### 4. üìñ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
**–§–∞–π–ª:** `CLOUDRU_HEALTH_CHECK_SETUP.md`

**–î–ª—è –∫–æ–≥–æ:** –ù—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
**–í—Ä–µ–º—è:** 15 –º–∏–Ω—É—Ç —á—Ç–µ–Ω–∏—è  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö probe
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- Troubleshooting

üëâ **–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è**

---

### 5. üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
**–§–∞–π–ª:** `HEALTH_CHECK_CONFIGURATION.md`

**–î–ª—è –∫–æ–≥–æ:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏  
**–í—Ä–µ–º—è:** 10 –º–∏–Ω—É—Ç —á—Ç–µ–Ω–∏—è  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã probe
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞
- –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

üëâ **–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π**

---

## üéØ –ö—Ä–∞—Ç–∫–∞—è —Å—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
1. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
2. –ù–∞—á–∏–Ω–∞–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é PaddleOCR-VL (80-90 —Å–µ–∫—É–Ω–¥)
3. –ß–µ—Ä–µ–∑ 37-39 —Å–µ–∫—É–Ω–¥ Health Check —É–±–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (SIGTERM)
4. –¶–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ

### –ü–æ—á–µ–º—É:
- Health Check –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ
- –ù–µ –¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
- –¢—Ä–µ–±—É–µ—Ç—Å—è 80-90 —Å–µ–∫—É–Ω–¥, –∞ –¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ 37-39

### –†–µ—à–µ–Ω–∏–µ:
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Startup Probe —Å `failureThreshold: 50`
- –≠—Ç–æ –¥–∞—Å—Ç 510 —Å–µ–∫—É–Ω–¥ (8.5 –º–∏–Ω—É—Ç) –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é

## ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (1 —Å—Ç—Ä–æ–∫–∞)

```
Startup Probe: failureThreshold=50, initialDelaySeconds=10, periodSeconds=10
```

## üìã –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫

- [ ] Startup Probe: failureThreshold = 50
- [ ] Startup Probe: initialDelaySeconds = 10
- [ ] Startup Probe: periodSeconds = 10
- [ ] Liveness Probe: initialDelaySeconds = 300
- [ ] Readiness Probe: initialDelaySeconds = 180

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```bash
# –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:
13:10:39 ‚Üí SIGTERM
13:11:19 ‚Üí SIGTERM (—á–µ—Ä–µ–∑ 39 —Å–µ–∫)
13:11:59 ‚Üí SIGTERM (—á–µ—Ä–µ–∑ 39 —Å–µ–∫)
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```bash
# Health check:
curl https://your-service/health

# –û—Ç–≤–µ—Ç –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
{"status": "starting", "paddleocr": "initializing"}

# –û—Ç–≤–µ—Ç –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
{"status": "healthy", "paddleocr": "ready"}
```

## üìû –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

1. **–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ:** `QUICK_FIX_CHECKLIST.md` (5 –º–∏–Ω—É—Ç)
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ:** Health Check –Ω–∞ Cloud.ru (5 –º–∏–Ω—É—Ç)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –õ–æ–≥–∏ –∏ health endpoint (2 –º–∏–Ω—É—Ç—ã)
4. **–ì–æ—Ç–æ–≤–æ!** –°–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

## üìÑ –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

1. `QUICK_FIX_CHECKLIST.md` ‚≠ê - –ù–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞
2. `URGENT_HEALTH_CHECK_FIX.md` - –°—Ä–æ—á–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
3. `SIGTERM_LOOP_ANALYSIS.md` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
4. `CLOUDRU_HEALTH_CHECK_SETUP.md` - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
5. `HEALTH_CHECK_CONFIGURATION.md` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
6. `README_SIGTERM_FIX.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)

---

**‚è±Ô∏è –û–±—â–µ–µ –≤—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** ~12 –º–∏–Ω—É—Ç  
**üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞ –±–µ–∑ SIGTERM

