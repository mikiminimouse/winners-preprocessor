# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ–± —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç–µ –≤–µ—Ä—Å–∏–∏ 1.3.6

**–î–∞—Ç–∞:** 05.12.2025  
**–í–µ—Ä—Å–∏—è:** 1.3.6  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢!

## üéâ –£—Å–ø–µ—à–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫**
   - FastAPI handler —Ä–∞–±–æ—Ç–∞–µ—Ç
   - Health check –¥–æ—Å—Ç—É–ø–µ–Ω
   - –ù–µ—Ç SIGTERM –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

2. **‚úÖ Health check —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
   - –í–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: `{"status": "starting", "paddleocr": "initializing"}`
   - –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: `{"status": "healthy", "paddleocr": "ready"}`
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —É–±–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

3. **‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ**
   - –ú–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –∫—ç—à–∞ –æ—Ñ–ª–∞–π–Ω-–æ–±—Ä–∞–∑–∞
   - PaddleOCR-VL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ

4. **‚úÖ OCR –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ**
   - –°—Ç–∞—Ç—É—Å: 200 OK
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: success
   - –ù–µ—Ç –æ—à–∏–±–∫–∏ "static graph mode"

## ‚úÖ –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. SIGTERM –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ - –†–ï–®–ï–ù–û ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª—É—á–∞–ª SIGTERM —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞
- Health check —É–±–∏–≤–∞–ª –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –£–ª—É—á—à–µ–Ω–Ω—ã–π health check endpoint —Å —Å—Ç–∞—Ç—É—Å–æ–º "starting"
- –£–≤–µ–ª–∏—á–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π (10 —Å–µ–∫—É–Ω–¥)
- Startup probe –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å—Ç–∞—Ç—É—Å "starting"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —É–±–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ

### 2. Health check –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –†–ï–®–ï–ù–û ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Health check –Ω–µ –æ—Ç–≤–µ—á–∞–ª –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –°–µ—Ä–≤–µ—Ä –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –§–æ–Ω–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
- Health check —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "starting" –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Health check –¥–æ—Å—Ç—É–ø–µ–Ω —Å—Ä–∞–∑—É
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞

### 3. –û—à–∏–±–∫–∞ "static graph mode" - –†–ï–®–ï–ù–û ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
"int(Tensor) is not supported in static graph mode"
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è dynamic graph mode:
  - `FLAGS_enable_eager_mode=1`
  - `FLAGS_eager_delete_tensor_gb=0`
  - `FLAGS_use_mkldnn=0`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PaddlePaddle –≤ Python –∫–æ–¥–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- OCR –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- –ù–µ—Ç –æ—à–∏–±–∫–∏ static graph mode

### 4. –ú–æ–¥–µ–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è - –†–ï–®–ï–ù–û ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–æ–¥–µ–ª–∏ –ø—ã—Ç–∞–ª–∏—Å—å –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –û—à–∏–±–∫–∏ "No available model hosting platforms"

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω-–æ–±—Ä–∞–∑–∞ —Å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
- –ú–æ–¥–µ–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –≤ –∫—ç—à–µ: `/home/paddleocr/.paddlex`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ú–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –∫—ç—à–∞
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

- **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:** ~1 —Å–µ–∫—É–Ω–¥–∞
- **–ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π:** 10 —Å–µ–∫—É–Ω–¥
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π:** ~80-90 —Å–µ–∫—É–Ω–¥
- **–ü–µ—Ä–≤—ã–π OCR –∑–∞–ø—Ä–æ—Å:** ~112 —Å–µ–∫—É–Ω–¥ (–≤–∫–ª—é—á–∞—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏)

### –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| FastAPI Server | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü–æ—Ä—Ç 8081 |
| Health Check | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã |
| PaddleOCR-VL | ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω | –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ |
| –ú–æ–¥–µ–ª–∏ | ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω—ã | –ò–∑ –∫—ç—à–∞ –æ—Ñ–ª–∞–π–Ω-–æ–±—Ä–∞–∑–∞ |
| S3 Storage | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω | Cloud.ru Object Storage |

## üì¶ –û–±—Ä–∞–∑

**URI:** `docling-granite-258m.cr.cloud.ru/paddleocr-vl-service:1.3.6`

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑: `paddleocr-vl:latest-gpu-sm120-offline`
- –í–µ—Ä—Å–∏—è: 1.3.6
- –†–∞–∑–º–µ—Ä: ~9.77 GB

## üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production

### ‚úÖ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

1. ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ
2. ‚úÖ Health check —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
4. ‚úÖ OCR –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
5. ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

### üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production:

1. **Health Check –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - Startup Probe: `failureThreshold=50`
   - Liveness Probe: `initialDelaySeconds=300`
   - Readiness Probe: `initialDelaySeconds=180`

2. **–†–µ—Å—É—Ä—Å—ã:**
   - –ú–∏–Ω–∏–º—É–º 8GB –ø–∞–º—è—Ç–∏ (16GB —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - GPU –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω (CUDA 12.6+)

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏ OCR –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏/GPU

## üìù –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

- **1.3.0** - –ü–µ—Ä–≤—ã–π –æ—Ñ–ª–∞–π–Ω-–æ–±—Ä–∞–∑
- **1.3.2** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **1.3.3** - –§–æ–Ω–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- **1.3.4** - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è dynamic graph
- **1.3.5** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PaddlePaddle –≤ Python –∫–æ–¥–µ
- **1.3.6** - ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π health check + –∑–∞–¥–µ—Ä–∂–∫–∞

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í–µ—Ä—Å–∏—è 1.3.6 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production!**

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:
- ‚úÖ SIGTERM –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- ‚úÖ Health check –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –û—à–∏–±–∫–∞ static graph mode
- ‚úÖ –ú–æ–¥–µ–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ PRODUCTION READY


