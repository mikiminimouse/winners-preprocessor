# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è vLLM —Å–µ—Ä–≤–µ—Ä–∞

**–î–∞—Ç–∞:** 05.12.2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** vLLM —Å–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç —Å–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å PaddleOCR-VL-0.9B

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:

```
No available model hosting platforms detected. Please check your network connection.
RuntimeError: Could not prepare the official model for the 'PaddleOCR-VL-0.9B' model with the 'vllm' backend.
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- vLLM —Å–µ—Ä–≤–µ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è —Å–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö–æ—Å—Ç–∏–Ω–≥–∞–º –º–æ–¥–µ–ª–µ–π:
  - HuggingFace (https://huggingface.co)
  - ModelScope (https://modelscope.cn)
  - AIStudio (https://aistudio.baidu.com)
  - BOS (https://paddle-model-ecology.bj.bcebos.com)
- –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞ –æ—Ñ–ª–∞–π–Ω-–æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º —Å —Å–µ—Ç—å—é

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### FastAPI Handler:
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ PaddleOCRVL –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ S3 –∫–ª–∏–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚úÖ Health check –¥–æ—Å—Ç—É–ø–µ–Ω

**–õ–æ–≥–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:**
```
2025-12-05 02:02:08,987 - server - INFO - PaddleOCRVL imported successfully
2025-12-05 02:02:09,199 - server - INFO - S3 client initialized for bucket: bucket-winners223
INFO:     Started server process [1]
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8081
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ

**FastAPI handler —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó vLLM —Å–µ—Ä–≤–µ—Ä–∞!**

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π OCR —Å–µ—Ä–≤–∏—Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚ö†Ô∏è vLLM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è (–Ω–æ –º—ã –µ–≥–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ–º)
- ‚úÖ PaddleOCR-VL –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ PaddlePaddle

## üîß –†–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å –≤ –æ–±—Ä–∞–∑ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–æ–±–∞–≤–∏—Ç—å –≤ Dockerfile –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥–µ–ª–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–∞:

```dockerfile
# –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ PaddleOCR-VL-0.9B
RUN python3 -c "\
from paddlex.inference.utils.official_models import OfficialModels; \
om = OfficialModels(); \
model_dir = om.get_model_local_path('PaddleOCR-VL-0.9B', 'vllm'); \
print(f'Model downloaded to: {model_dir}')" || echo "Model download skipped"
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–ª–∞–π–Ω –æ–±—Ä–∞–∑

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ—Ñ–ª–∞–π–Ω –æ–±—Ä–∞–∑ —Å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏:
- `paddleocr-genai-vllm-server:latest-offline`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å vLLM —Å–µ—Ä–≤–µ—Ä

–¢–∞–∫ –∫–∞–∫ –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º vLLM –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –Ω–µ–º—É), –º–æ–∂–Ω–æ:
- –£–±—Ä–∞—Ç—å –∑–∞–ø—É—Å–∫ vLLM —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑ start.sh
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ PaddlePaddle –±—ç–∫–µ–Ω–¥

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. **vLLM —Å–µ—Ä–≤–µ—Ä:** –ü—ã—Ç–∞–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è, –Ω–æ –ø–∞–¥–∞–µ—Ç –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –º–æ–¥–µ–ª–∏
2. **FastAPI handler:** –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **PaddleOCR-VL:** –ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ PaddlePaddle (–±–µ–∑ vLLM)

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

- ‚úÖ **OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –†–∞–±–æ—Ç–∞–µ—Ç (—á–µ—Ä–µ–∑ PaddlePaddle)
- ‚ö†Ô∏è **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ (–±–µ–∑ vLLM —É—Å–∫–æ—Ä–µ–Ω–∏—è)
- ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–µ–Ω

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è production:

1. **–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å –≤ –æ–±—Ä–∞–∑
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–ª–∞–π–Ω –æ–±—Ä–∞–∑
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å PaddleOCR-VL –∫ vLLM —Å–µ—Ä–≤–µ—Ä—É (–∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

2. **–ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞:**
   - –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (FastAPI —Ä–∞–±–æ—Ç–∞–µ—Ç)
   - –£–±—Ä–∞—Ç—å –∑–∞–ø—É—Å–∫ vLLM —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑ start.sh
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ PaddlePaddle –±—ç–∫–µ–Ω–¥

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

–ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞, —Ç–∞–∫ –∫–∞–∫:
- FastAPI handler —Ä–∞–±–æ—Ç–∞–µ—Ç
- OCR —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ—Å—Ç—É–ø–µ–Ω
- vLLM –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è (–∫–æ—Ç–æ—Ä–æ–µ –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º)

## üìù –í—ã–≤–æ–¥—ã

1. ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç** - FastAPI handler —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. ‚ö†Ô∏è **vLLM —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** - –Ω–æ —ç—Ç–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
3. ‚úÖ **OCR –¥–æ—Å—Ç—É–ø–µ–Ω** - —á–µ—Ä–µ–∑ PaddlePaddle –±—ç–∫–µ–Ω–¥
4. ‚ö†Ô∏è **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –õ–∏–±–æ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å, –ª–∏–±–æ —É–±—Ä–∞—Ç—å vLLM —Å–µ—Ä–≤–µ—Ä (—Ç–∞–∫ –∫–∞–∫ –º—ã –µ–≥–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º)

## üîó –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –†–µ—à–∏—Ç—å: –Ω—É–∂–µ–Ω –ª–∏ vLLM –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è?
2. –ï—Å–ª–∏ –¥–∞ - –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å –≤ –æ–±—Ä–∞–∑
3. –ï—Å–ª–∏ –Ω–µ—Ç - —É–±—Ä–∞—Ç—å –∑–∞–ø—É—Å–∫ vLLM —Å–µ—Ä–≤–µ—Ä–∞
4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ vLLM —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

