# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ PDF –≤ MD

**–î–∞—Ç–∞:** 05.12.2025  
**–û–±—Ä–∞–∑:** `docling-granite-258m.cr.cloud.ru/paddleocr-vl-service@sha256:c119832972ec3b660c5ed5199423869e9a18acca03330e9b57458e511c385930`  
**ML Inference URL:** `https://c5b0e67c-1426-48e5-b2cd-c86c0acdb5c3.modelrun.inference.cloud.ru`

## ‚úÖ –£—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞: ‚úÖ –†–ï–®–ï–ù–ê

**–ë—ã–ª–æ:**
```
PermissionError: [Errno 13] Permission denied: '/app/temp/tmp*.jpg'
```

**–°—Ç–∞–ª–æ:**
- ‚úÖ –û—à–∏–±–æ–∫ `Permission denied` –±–æ–ª—å—à–µ –Ω–µ—Ç
- ‚úÖ –§–∞–π–ª—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ `/app/temp`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –Ω–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ —Å `uuid` –≤–º–µ—Å—Ç–æ `tempfile.NamedTemporaryFile`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –£–±—Ä–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `tempfile.NamedTemporaryFile`
- –§–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ `Path` –∏ `open()` –∏–ª–∏ `PIL.Image.save()`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `uuid` –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤

### 2. Health Check: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢

```json
{
    "status": "healthy",
    "paddleocr": "not_initialized",
    "s3_storage": "configured",
    "output_dir": "/app/output",
    "temp_dir": "/app/temp"
}
```

### 3. PDF ‚Üí –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢

- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ 2 —Ñ–∞–π–ª–∞, 4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –í—Ä–µ–º—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏: ~0.5s –Ω–∞ —Ñ–∞–π–ª

## ‚ö†Ô∏è –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞

### PaddleOCR-VL –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

**–û—à–∏–±–∫–∞:**
```
OCR processing failed: PaddleOCRVL is not available. Check installation.
```

**–ü—Ä–∏—á–∏–Ω–∞:**
–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:
```
ImportError: /usr/local/lib/python3.10/site-packages/torch/lib/libtorch_cuda.so: undefined symbol: ncclCommWindowRegister
```

**–ê–Ω–∞–ª–∏–∑:**
- –≠—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞ `paddlex-genai-vllm-server`
- –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ `torch` –∏ `NCCL` –≤ –±–∞–∑–æ–≤–æ–º –æ–±—Ä–∞–∑–µ
- PaddleOCR-VL –∑–∞–≤–∏—Å–∏—Ç –æ—Ç torch, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è

**–°—Ç–∞—Ç—É—Å:**
- ‚ö†Ô∏è OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞
- ‚úÖ –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)
- ‚úÖ API –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã:

1. **–ü—Ä–æ—Ç–æ–∫–æ–ª_–ø–æ–¥–≤–µ–¥–µ–Ω–∏—è_–∏—Ç–æ–≥–æ–≤ ‚Ññ 2323-2503691630.pdf**
   - –†–∞–∑–º–µ—Ä: 1.2MB
   - –°—Ç—Ä–∞–Ω–∏—Ü: 2
   - –°—Ç–∞—Ç—É—Å: ‚ùå OCR –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–±–ª–µ–º–∞ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞)

2. **–ø—Ä–æ—Ç–æ–∫–æ–ª.pdf**
   - –†–∞–∑–º–µ—Ä: 309KB
   - –°—Ç—Ä–∞–Ω–∏—Ü: 2
   - –°—Ç–∞—Ç—É—Å: ‚ùå OCR –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–±–ª–µ–º–∞ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞)

### –ú–µ—Ç—Ä–∏–∫–∏:

- **Health Check:** ‚úÖ 200 OK
- **PDF ‚Üí –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- **–°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** ‚úÖ –ë–µ–∑ –æ—à–∏–±–æ–∫ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- **OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞:** ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (torch/NCCL –ø—Ä–æ–±–ª–µ–º–∞)

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. ‚úÖ FastAPI —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
2. ‚úÖ Health endpoint –¥–æ—Å—Ç—É–ø–µ–Ω
3. ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (Bearer token)
4. ‚úÖ PDF –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
5. ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
6. ‚úÖ S3 –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. ‚ùå PaddleOCR-VL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
   - –ü—Ä–∏—á–∏–Ω–∞: –æ—à–∏–±–∫–∞ torch/NCCL –≤ –±–∞–∑–æ–≤–æ–º –æ–±—Ä–∞–∑–µ
   - –í–ª–∏—è–Ω–∏–µ: OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

2. ‚ö†Ô∏è vLLM —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
   - –ü—Ä–∏—á–∏–Ω–∞: —Ç–∞ –∂–µ –æ—à–∏–±–∫–∞ torch/NCCL
   - –í–ª–∏—è–Ω–∏–µ: –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, —Ç.–∫. –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ PaddleOCR

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Cloud.ru** –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫
2. **–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å torch** –≤ –±–∞–∑–æ–≤–æ–º –æ–±—Ä–∞–∑–µ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑** –±–µ–∑ vLLM, –µ—Å–ª–∏ –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

1. **–°–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏:
   - CUDA 12.6+
   - –°–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏ torch –∏ NCCL
   - PaddlePaddle GPU 3.2.1
   - PaddleOCR-VL

2. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑** PaddleOCR –±–µ–∑ vLLM –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## üìù –í—ã–≤–æ–¥—ã

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å `Permission denied`
2. **–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **API** - –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è:

1. **PaddleOCR-VL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –ø—Ä–æ–±–ª–µ–º–∞ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞
2. **torch/NCCL —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –±–∞–∑–æ–≤–æ–º –æ–±—Ä–∞–∑–µ

### üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| Health Check | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç |
| –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| PDF ‚Üí –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç |
| –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ | ‚úÖ | –ë–µ–∑ –æ—à–∏–±–æ–∫ |
| PaddleOCR-VL | ‚ùå | –ü—Ä–æ–±–ª–µ–º–∞ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞ |
| OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ | ‚ùå | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç PaddleOCR |

**–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ OCR –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞

## üì¶ –û–±—Ä–∞–∑

**–¢–µ–∫—É—â–∏–π –æ–±—Ä–∞–∑:**
```
docling-granite-258m.cr.cloud.ru/paddleocr-vl-service@sha256:c119832972ec3b660c5ed5199423869e9a18acca03330e9b57458e511c385930
```

**–í–µ—Ä—Å–∏—è:** 1.0.4

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –£–±—Ä–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `tempfile.NamedTemporaryFile`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `uuid` –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ `Path` –∏ `open()`

