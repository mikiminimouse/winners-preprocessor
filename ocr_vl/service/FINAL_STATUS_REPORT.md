# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Å—Ç–∞—Ç—É—Å–µ PaddleOCR-VL Service

**–î–∞—Ç–∞:** 05.12.2025  
**–í–µ—Ä—Å–∏—è:** 1.0.8

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **FastAPI Handler** ‚úÖ
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
   - –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8081
   - Health check –¥–æ—Å—Ç—É–ø–µ–Ω

2. **PaddleOCR-VL** ‚úÖ
   - –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
   - –ì–æ—Ç–æ–≤ –∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
   - –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ PaddlePaddle –±—ç–∫–µ–Ω–¥

3. **S3 Integration** ‚úÖ
   - –ö–ª–∏–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
   - –ì–æ—Ç–æ–≤ –∫ –∑–∞–≥—Ä—É–∑–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

4. **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** ‚úÖ
   - OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã

### –ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ–∂–∏–¥–∞–µ–º–æ):

1. **vLLM —Å–µ—Ä–≤–µ—Ä** ‚ùå
   - –ù–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –º–æ–¥–µ–ª–∏
   - –ù–û: —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –º—ã –µ–≥–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º
   - –†–µ—à–µ–Ω–∏–µ: —É–±—Ä–∞–Ω –∏–∑ start.sh

## üìä –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

### –£—Å–ø–µ—à–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

```
‚úÖ PaddleOCRVL imported successfully
‚úÖ S3 client initialized for bucket: bucket-winners223
‚úÖ Started server process [1]
‚úÖ Application startup complete
‚úÖ Uvicorn running on http://127.0.0.1:8081
‚úÖ TEMP_DIR is writable: /app/temp
‚úÖ OUTPUT_DIR is writable: /app/output
```

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):

```
‚ö†Ô∏è No available model hosting platforms detected
‚ö†Ô∏è Could not prepare the official model for vLLM
```

**–í–ª–∏—è–Ω–∏–µ:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ - vLLM –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, FastAPI —Ä–∞–±–æ—Ç–∞–µ—Ç

## üîß –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –í–µ—Ä—Å–∏—è 1.0.7:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ PermissionError –¥–ª—è `/.paddlex`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞

### –í–µ—Ä—Å–∏—è 1.0.8:
- ‚úÖ –£–±—Ä–∞–Ω –∑–∞–ø—É—Å–∫ vLLM —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑ start.sh
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ (—Ç–æ–ª—å–∫–æ FastAPI)
- ‚úÖ –£–±—Ä–∞–Ω –ø–æ—Ä—Ç 8080 (vLLM –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–ü—Ä–∏—á–∏–Ω—ã:**
1. vLLM –Ω–µ –º–æ–∂–µ—Ç —Å–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º)
2. –ú—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º vLLM –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –Ω–µ–º—É)
3. FastAPI —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ vLLM —á–µ—Ä–µ–∑ PaddlePaddle

## üì¶ –û–±—Ä–∞–∑ Docker

**URI:**
```
docling-granite-258m.cr.cloud.ru/paddleocr-vl-service:latest
```

**–í–µ—Ä—Å–∏—è —Å —Ç–µ–≥–æ–º:**
```
docling-granite-258m.cr.cloud.ru/paddleocr-vl-service:1.0.8
```

**–ü–æ—Ä—Ç—ã:**
- **8081** - FastAPI handler (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å)

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

### –î–ª—è Cloud.ru ML Inference:

1. **Docker Image URI:**
   ```
   docling-granite-258m.cr.cloud.ru/paddleocr-vl-service:latest
   ```

2. **–ü–æ—Ä—Ç—ã:**
   - **8081** - FastAPI handler

3. **Health Check:**
   - **Path:** `/health`
   - **Port:** `8081`
   - **Initial Delay:** `180` —Å–µ–∫—É–Ω–¥

4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   ```bash
   CLOUDRU_S3_ENDPOINT=https://s3.cloud.ru
   CLOUDRU_S3_BUCKET=bucket-winners223
   CLOUDRU_S3_ACCESS_KEY=your-access-key
   CLOUDRU_S3_SECRET_KEY=your-secret-key
   ```

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

- ‚úÖ FastAPI –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É
- ‚úÖ Health check —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
- ‚ö†Ô∏è –ü–µ—Ä–≤—ã–π OCR –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏)

## üìù –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ë–µ–∑ vLLM —É—Å–∫–æ—Ä–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PaddlePaddle –±—ç–∫–µ–Ω–¥ –Ω–∞–ø—Ä—è–º—É—é

2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
   - PaddleOCR-VL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
   - –ú–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ GPU)

3. **–†–µ—Å—É—Ä—Å—ã:**
   - –¢—Ä–µ–±—É–µ—Ç GPU –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
   - –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| FastAPI Handler | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç |
| PaddleOCR-VL | ‚úÖ | –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é |
| Health Check | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç |
| S3 Integration | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç |
| –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | ‚úÖ | –î–æ—Å—Ç—É–ø–µ–Ω |
| vLLM —Å–µ—Ä–≤–µ—Ä | ‚ùå | –£–±—Ä–∞–Ω (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è) |

## üéØ –í—ã–≤–æ–¥—ã

1. ‚úÖ **–°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç** - FastAPI handler —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. ‚úÖ **OCR –¥–æ—Å—Ç—É–ø–µ–Ω** - —á–µ—Ä–µ–∑ PaddlePaddle –±—ç–∫–µ–Ω–¥
3. ‚úÖ **–ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** - –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
4. ‚ö†Ô∏è **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ –±–µ–∑ vLLM (–ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è –º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞–µ–≤)

## üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `FIX_PERMISSIONS_REPORT.md` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PermissionError
- `DEPLOYMENT_INSTRUCTIONS.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- `OFFICIAL_COMPARISON_ANALYSIS.md` - –∞–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º—É –ø–æ–¥—Ö–æ–¥—É
- `VLLM_MODEL_DOWNLOAD_ISSUE.md` - –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã —Å vLLM
- `VLLM_SOLUTION.md` - —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å vLLM
- `FINAL_STATUS_REPORT.md` - —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

–°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≥–æ—Ç–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å OCR –∑–∞–ø—Ä–æ—Å—ã. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ FastAPI –Ω–∞ –ø–æ—Ä—Ç—É 8081.

