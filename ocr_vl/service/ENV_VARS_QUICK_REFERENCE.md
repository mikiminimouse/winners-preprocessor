# –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Cloud.ru

**–í–µ—Ä—Å–∏—è:** 1.3.6  
**–î–∞—Ç–∞:** 05.12.2025

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –î–ª—è –≤–µ–±-–∫–æ–Ω—Å–æ–ª–∏ Cloud.ru ML Inference

#### Docker Image:
```
docling-granite-258m.cr.cloud.ru/paddleocr-vl-service:1.3.6
```

#### Environment Variables (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ –¥–ª—è S3):

```
CLOUDRU_S3_ENDPOINT = https://s3.cloud.ru
CLOUDRU_S3_BUCKET = bucket-winners223
CLOUDRU_S3_ACCESS_KEY = your-access-key
CLOUDRU_S3_SECRET_KEY = your-secret-key
```

**–ï—Å–ª–∏ S3 –Ω–µ –Ω—É–∂–µ–Ω ‚Üí –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ù–ï —Ç—Ä–µ–±—É—é—Ç—Å—è!**

---

## üìä –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞? | –î–ª—è —á–µ–≥–æ | –ì–¥–µ –∑–∞–¥–∞–≤–∞—Ç—å |
|-----------|-------------|----------|--------------|
| `CLOUDRU_S3_ENDPOINT` | ‚ùå –ù–µ—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è S3) | Endpoint Object Storage | Cloud.ru –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å |
| `CLOUDRU_S3_BUCKET` | ‚ùå –ù–µ—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è S3) | –ò–º—è bucket | Cloud.ru –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å |
| `CLOUDRU_S3_ACCESS_KEY` | ‚ùå –ù–µ—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è S3) | Access key –¥–ª—è S3 | Cloud.ru –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å |
| `CLOUDRU_S3_SECRET_KEY` | ‚ùå –ù–µ—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è S3) | Secret key –¥–ª—è S3 | Cloud.ru –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å |
| `PADDLEX_HOME` | ‚ùå –ù–ï–¢ (–∞–≤—Ç–æ) | –ü—É—Ç—å –∫ –º–æ–¥–µ–ª—è–º | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| `HF_HOME` | ‚ùå –ù–ï–¢ (–∞–≤—Ç–æ) | –ü—É—Ç—å –∫ HuggingFace –∫—ç—à—É | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| `FLAGS_enable_eager_mode` | ‚ùå –ù–ï–¢ (–∞–≤—Ç–æ) | Dynamic graph mode | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| `FLAGS_eager_delete_tensor_gb` | ‚ùå –ù–ï–¢ (–∞–≤—Ç–æ) | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| `FLAGS_use_mkldnn` | ‚ùå –ù–ï–¢ (–∞–≤—Ç–æ) | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

---

## üéØ –ë–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –ø–æ –≤–µ—Ä—Å–∏—è–º

| –í–µ—Ä—Å–∏—è | –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è Docker run |
|--------|--------------|---------------------------|
| **1.0.8-1.2.0** | `paddlex-genai-vllm-server:latest` | ‚ö†Ô∏è –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è |
| **1.3.0+** | `paddleocr-vl:latest-gpu-sm120-offline` | ‚úÖ –¢–æ–ª—å–∫–æ S3 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |

---

## ‚úÖ –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å

**–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –ù–ï –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–∞–Ω—ã –≤—Ä—É—á–Ω—É—é:**

- ‚ùå `PADDLEX_HOME`
- ‚ùå `HF_HOME`
- ‚ùå `FLAGS_enable_eager_mode`
- ‚ùå `FLAGS_eager_delete_tensor_gb`
- ‚ùå `FLAGS_use_mkldnn`

**–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–µ—Ä–≤–∏—Å–æ–º:**

- ‚ùå `USE_CLOUDRU_VLM`
- ‚ùå `CLOUDRU_API_URL`
- ‚ùå `CLOUDRU_API_KEY`
- ‚ùå `USE_CLOUDRU_S3`
- ‚ùå `CLOUDRU_S3_TENANT_ID`
- ‚ùå `CLOUDRU_S3_KEY_ID`
- ‚ùå `CLOUDRU_S3_REGION`

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë–µ–∑ S3 (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

**Environment Variables:** (–ø—É—Å—Ç–æ)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `/app/output` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚ùå –ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ S3

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° S3 (–ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

**Environment Variables:**
```
CLOUDRU_S3_ENDPOINT = https://s3.cloud.ru
CLOUDRU_S3_BUCKET = bucket-winners223
CLOUDRU_S3_ACCESS_KEY = 502f76f0-9017-493d-bda4-9e1bb278da84:ce94860ccc8780b2bc5f00f31459d24e
CLOUDRU_S3_SECRET_KEY = 759469c88d6e450b584e2487c5174770
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `/app/output`
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ S3 bucket

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

### Health Check –æ—Ç–≤–µ—Ç:

```json
{
  "status": "healthy",
  "paddleocr": "ready",
  "s3_storage": "configured"  // –∏–ª–∏ "not_configured"
}
```

---

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `ENVIRONMENT_VARIABLES_ANALYSIS.md` - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π
- `ML_INFERENCE_ENV_VARS.md` - –î–µ—Ç–∞–ª–∏ –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º S3

---

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ä—Å–∏—é 1.3.6 —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ S3 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏!

