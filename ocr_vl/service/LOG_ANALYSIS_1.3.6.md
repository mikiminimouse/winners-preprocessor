# –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –≤–µ—Ä—Å–∏–∏ 1.3.6

**–î–∞—Ç–∞:** 05.12.2025  
**–í–µ—Ä—Å–∏—è:** 1.3.6

## üîç –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

### –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞:

**12:34:02** - –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:
```
Starting FastAPI handler on port 8081...
Using offline image with pre-loaded models
PADDLEX_HOME=/home/paddleocr/.paddlex
Dynamic graph mode enabled (FLAGS_enable_eager_mode=1)
```

**12:34:04** - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ ccache (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**12:34:31** - –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ ~29 —Å–µ–∫—É–Ω–¥):
```
Starting FastAPI handler on port 8081...
Using offline image with pre-loaded models
```

**12:34:33** - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ ccache —Å–Ω–æ–≤–∞

**12:34:34** - –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê:
```
No stack trace in paddle, may be caused by external reasons.
FatalError: `Termination signal` is detected by the operating system.
SIGTERM received by PID 1
```

## üî¥ –ü—Ä–æ–±–ª–µ–º—ã

### 1. –î–≤–æ–π–Ω–æ–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

**–ù–∞–±–ª—é–¥–µ–Ω–∏–µ:**
- –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ 12:34:02
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ 12:34:31 (—á–µ—Ä–µ–∑ 29 —Å–µ–∫—É–Ω–¥)
- –ü–æ–ª—É—á–∞–µ—Ç SIGTERM –≤ 12:34:34 (—á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- Health check —É–±–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∞–µ—Ç SIGTERM

### 2. SIGTERM —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç SIGTERM –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ (—á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã)
- –≠—Ç–æ —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- Health check, –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ

### 3. "No stack trace in paddle"

**–°–æ–æ–±—â–µ–Ω–∏–µ:**
```
No stack trace in paddle, may be caused by external reasons.
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- PaddlePaddle –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å stack trace
- –û—à–∏–±–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å trace
- –°–≤—è–∑–∞–Ω–æ —Å –≤–Ω–µ—à–Ω–∏–º —Å–∏–≥–Ω–∞–ª–æ–º (SIGTERM)

## üí° –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–∏—á–∏–Ω–∞ SIGTERM:

1. **Health check —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–µ–Ω:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ
   - –ù–µ –¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
   - –£–±–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

2. **Health check –Ω–µ –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å "starting":**
   - –í–æ–∑–º–æ–∂–Ω–æ, health check endpoint –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
   - –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ Cloud.ru
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç—É—Å "healthy"

3. **Startup probe –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   - –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ—Ç startup probe
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ liveness probe
   - Liveness probe —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–µ–Ω

## üîß –†–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Health Check –Ω–∞ Cloud.ru

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- Health check, –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "starting"
- –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ

**–¢—Ä–µ–±—É–µ—Ç—Å—è:**
- Startup probe —Å –±–æ–ª—å—à–∏–º `failureThreshold`
- Liveness probe —Å –±–æ–ª—å—à–∏–º `initialDelaySeconds`
- Readiness probe –¥–æ–ª–∂–µ–Ω –∂–¥–∞—Ç—å —Å—Ç–∞—Ç—É—Å–∞ "healthy"

### –†–µ—à–µ–Ω–∏–µ 2: –£–≤–µ–ª–∏—á–∏—Ç—å –≤—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ health check

**–¢–µ–∫—É—â–µ–µ:**
- Health check –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Ä–∞–∑—É

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á–∏—Ç—å `initialDelaySeconds` –¥–ª—è –≤—Å–µ—Ö probe
- –î–∞—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

### –†–µ—à–µ–Ω–∏–µ 3: –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É health check

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í–æ–∑–º–æ–∂–Ω–æ, health check endpoint –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ endpoint –≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç
- –î–∞–∂–µ –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 200 OK

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Health Check –Ω–∞ Cloud.ru:**
   - Startup Probe –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   - `failureThreshold` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å >= 30
   - `initialDelaySeconds` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∏–º

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Cloud.ru:**
   - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –∫ health check
   - –£–≤–∏–¥–µ—Ç—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç endpoint
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ probe

3. **–£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã:**
   - Startup probe: `failureThreshold=50` (–¥–æ 8+ –º–∏–Ω—É—Ç)
   - Liveness probe: `initialDelaySeconds=300` (5 –º–∏–Ω—É—Ç)
   - Readiness probe: `initialDelaySeconds=180` (3 –º–∏–Ω—É—Ç—ã)

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:

1. **–£–ª—É—á—à–∏—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:**
   - Health check –¥–æ–ª–∂–µ–Ω –≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞—Ç—å
   - –î–∞–∂–µ –µ—Å–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

2. **–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π health check –∑–∞–ø—Ä–æ—Å
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
   - –ü–æ–º–æ–∂–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

## üéØ –í—ã–≤–æ–¥—ã

1. **–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** Health check —É–±–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
2. **–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ health check –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ startup probe
3. **–†–µ—à–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã health check –Ω–∞ Cloud.ru

---

**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Health Check –Ω–∞ Cloud.ru ML Inference


