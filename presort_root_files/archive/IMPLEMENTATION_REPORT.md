# –û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–ª—É—á—à–µ–Ω–∏–π Download Control –∏ Sync Manager

## –î–∞—Ç–∞: 2025-12-21

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –£–ª—É—á—à–µ–Ω–∏–µ Download Control Tab

#### ‚úÖ 1.1 –°–æ–∑–¥–∞–Ω —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
**–§–∞–π–ª:** `receiver/webui/handlers/download_handlers.py`

- –°–æ–∑–¥–∞–Ω `download_protocols_advanced_handler` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `process_download_request`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –æ–ø—Ü–∏–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:
  - "–í—Å–µ –æ–∂–∏–¥–∞—é—â–∏–µ" (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞)
  - "–ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å"
  - "–ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è"
  - "–ü–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü"
  - "–° –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–≥—Ä—É–∑–∫–∏" (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `get_last_download_timestamp()`)
  - "–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥" (from_date - to_date)

#### ‚úÖ 1.2 –î–æ–±–∞–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
**–§–∞–π–ª:** `receiver/webui/app.py`

- –ó–∞–º–µ–Ω–µ–Ω—ã —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è –Ω–∞ `gr.DateTime` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –î–æ–±–∞–≤–ª–µ–Ω Radio –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ —Ñ–∏–ª—å—Ç—Ä–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –ø–æ–ª–µ–π –¥–∞—Ç
- –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - –ú–∞–∫—Å–∏–º—É–º UNIT
  - –ú–∞–∫—Å–∏–º—É–º URL –Ω–∞ UNIT
  - Force reload
  - Skip existing
  - Dry-run

#### ‚úÖ 1.3 –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–≥—Ä—É–∑–∫–∏
**–§–∞–π–ª:** `receiver/downloader/enhanced_service.py`

- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `get_last_download_timestamp()`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î (–ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º downloaded)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `unit.meta.json` —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç datetime –ø–æ—Å–ª–µ–¥–Ω–µ–π —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

### 2. –£–ª—É—á—à–µ–Ω–∏–µ Sync Manager Tab

#### ‚úÖ 2.1 –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ä–º
**–§–∞–π–ª:** `receiver/webui/tabs/sync_manager.py`

- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `update_ui_for_mode()` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
- –õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ —Ä–µ–∂–∏–º–∞–º:
  - **incremental**: —Å–∫—Ä—ã—Ç—ã –ø–æ–ª—è –¥–∞—Ç, –ø–æ–∫–∞–∑–∞–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—É—Ä—Å–æ—Ä–µ
  - **range**: –ø–æ–∫–∞–∑–∞–Ω—ã –æ–±–∞ –ø–æ–ª—è –¥–∞—Ç, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
  - **backfill**: –ø–æ–∫–∞–∑–∞–Ω–æ –ø–æ–ª–µ "–û—Ç", "–î–æ" = –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫—É—Ä—Å–æ—Ä (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
  - **replay**: –ø–æ–∫–∞–∑–∞–Ω—ã –æ–±–∞ –ø–æ–ª—è –¥–∞—Ç, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫—É—Ä—Å–æ—Ä–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞

#### ‚úÖ 2.2 –£–ª—É—á—à–µ–Ω —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞
**–§–∞–π–ª:** `receiver/webui/tabs/sync_manager.py`

- –ò–∑–º–µ–Ω–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: checkbox "–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞" –≤—ã–∫–ª—é—á–µ–Ω
- –ü–æ–ª–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–∫–µ—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º checkbox
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ–ª—å—à–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (10000) = –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–¥–∞–µ—Ç `None` –∫–æ–≥–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ

#### ‚úÖ 2.3 –ó–∞–º–µ–Ω–µ–Ω—ã —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
**–§–∞–π–ª:** `receiver/webui/tabs/sync_manager.py`

- –ó–∞–º–µ–Ω–µ–Ω—ã `gr.Textbox` –Ω–∞ `gr.DateTime` –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ datetime –æ–±—ä–µ–∫—Ç–æ–≤

### 3. –£–ø—Ä–æ—â–µ–Ω–∏–µ Sync Control Tab

#### ‚úÖ 3.1 –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
**–§–∞–π–ª:** `receiver/webui/app.py`

- –£–¥–∞–ª–µ–Ω–æ:
  - –ü–æ–ª–µ "–î–∞—Ç–∞ (YYYY-MM-DD)"
  - –ü–æ–ª–µ "–õ–∏–º–∏—Ç –∑–∞–ø–∏—Å–µ–π"
  - –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é"
- –û—Å—Ç–∞–≤–ª–µ–Ω–æ:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
  - –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏
  - –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–µ—Ä–µ–Ω–æ—Å–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ Sync Manager

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞

#### ‚úÖ 4.1 –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è UNIT –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
**–§–∞–π–ª:** `receiver/downloader/enhanced_service.py`

- –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ `_process_single_protocol`
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏ `INPUT_DIR/YYYY-MM-DD/Input/UNIT_xxx/`
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ meta —Ñ–∞–π–ª–æ–≤ (`unit.meta.json`, `raw_url_map.json`)
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `force_reload`: —É–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤ (–∫—Ä–æ–º–µ meta)

#### ‚úÖ 4.2 –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
**–§–∞–π–ª:** `receiver/downloader/enhanced_service.py`

- –î–æ–±–∞–≤–ª–µ–Ω–æ –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤ –∫–æ–≥–¥–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≤ –ë–î

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

#### ‚úÖ 5.1 –û–±–Ω–æ–≤–ª–µ–Ω—ã sync_manager_handlers
**–§–∞–π–ª:** `receiver/webui/handlers/sync_manager_handlers.py`

- –û–±–Ω–æ–≤–ª–µ–Ω `sync_manager_start_sync` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `None` –≤ batch_size
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
- –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –î–ª—è backfill: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ to_date –∏–∑ –∫—É—Ä—Å–æ—Ä–∞

#### ‚úÖ 5.2 –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π download handler
**–§–∞–π–ª:** `receiver/webui/handlers/download_handlers.py`

- –°–æ–∑–¥–∞–Ω `download_protocols_advanced_handler` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –æ–ø—Ü–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `process_download_request`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–∞—Ç
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ datetime –æ–±—ä–µ–∫—Ç–æ–≤

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `receiver/downloader/enhanced_service.py` - –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `get_last_download_timestamp()`, —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ force_reload
2. `receiver/webui/handlers/download_handlers.py` - —Å–æ–∑–¥–∞–Ω `download_protocols_advanced_handler`
3. `receiver/webui/app.py` - –æ–±–Ω–æ–≤–ª–µ–Ω Download Control Tab, —É–ø—Ä–æ—â–µ–Ω Sync Control Tab
4. `receiver/webui/tabs/sync_manager.py` - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∫–∞–ª–µ–Ω–¥–∞—Ä—å, —É–ª—É—á—à–µ–Ω–∏–µ batch_size
5. `receiver/webui/handlers/sync_manager_handlers.py` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ None –≤ batch_size, —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
6. `receiver/sync_db/models.py` - —É–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è backfill —Ä–µ–∂–∏–º–∞

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

#### Download Control Tab:
- ‚úÖ 6 —Ç–∏–ø–æ–≤ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–∞—Ç
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å (gr.DateTime)
- ‚úÖ –û–ø—Ü–∏—è "–° –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–≥—Ä—É–∑–∫–∏"
- ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (max_units, max_urls, force_reload, skip_existing, dry_run)

#### Sync Manager Tab:
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ –¥–ª—è backfill
- ‚úÖ –ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–º –ø–∞–∫–µ—Ç–∞ (checkbox)
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞

#### Sync Control Tab:
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω –¥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ datetime
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ datetime –∏–∑ Gradio
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞—Ç

### –û–±—Ä–∞–±–æ—Ç–∫–∞ batch_size
- None –∏–ª–∏ 0 = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 10000 –∫–∞–∫ –±–æ–ª—å—à–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
- Checkbox –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–∫–∞–∑/—Å–∫—Ä—ã—Ç–∏–µ –ø–æ–ª—è

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ UI
- –§—É–Ω–∫—Ü–∏—è `update_ui_for_mode()` –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å –ø–æ–ª–µ–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫—É—Ä—Å–æ—Ä–µ –¥–ª—è incremental –∏ backfill
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä –Ω–µ –≤—ã—è–≤–∏–ª –æ—à–∏–±–æ–∫
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ —á–∏—Å—Ç–∞—è, –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä—É—á–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:

1. **Download Control Tab** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
2. **Sync Manager Tab** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–Ω—ã–π UX
3. **Sync Control Tab** - —É–ø—Ä–æ—â–µ–Ω, –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–ó–∞–≥—Ä—É–∑—á–∏–∫** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏, —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ force_reload

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø–ª–∞–Ω–∞
- –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –£–ª—É—á—à–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´

