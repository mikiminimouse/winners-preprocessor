# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ WebUI

## –î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: 2025-12-21

## –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. Sync Manager Tab (üîÅ Sync Manager)
### 2. Download Control Tab (üíæ Download Control)

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
**–°—Ç–∞—Ç—É—Å:** PASSED

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è:
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã Sync Manager: OK
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã Download Control: OK
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã Sync Manager handlers: OK
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã Download handlers: OK
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã UI Service: OK
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã Sync Manager tab: OK

### ‚úÖ –¢–µ—Å—Ç 2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI Service
**–°—Ç–∞—Ç—É—Å:** PASSED

UI Service —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏ —Å–æ–∑–¥–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
- ‚úÖ Sync Service: —Å–æ–∑–¥–∞–Ω
- ‚úÖ Downloader Service: —Å–æ–∑–¥–∞–Ω
- ‚úÖ Analytics Service: —Å–æ–∑–¥–∞–Ω
- ‚úÖ Sync Manager Service: —Å–æ–∑–¥–∞–Ω

### ‚úÖ –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
**–°—Ç–∞—Ç—É—Å:** PASSED

–í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã:
- ‚úÖ `sync_manager_start_sync`: 6 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ `sync_manager_get_status`: 1 –ø–∞—Ä–∞–º–µ—Ç—Ä
- ‚úÖ `sync_manager_cancel`: 1 –ø–∞—Ä–∞–º–µ—Ç—Ä
- ‚úÖ `sync_manager_get_cursor_state`: 0 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ `sync_manager_get_recent_runs`: 1 –ø–∞—Ä–∞–º–µ—Ç—Ä
- ‚úÖ `download_protocols_handler`: 2 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

### ‚úÖ –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
**–°—Ç–∞—Ç—É—Å:** PASSED

–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ `SyncRequest` —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ
- ‚úÖ `DownloadRequest` —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ

### ‚úÖ –¢–µ—Å—Ç 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–æ–≤
**–°—Ç–∞—Ç—É—Å:** PASSED

–§—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –≤—ã–∑—ã–≤–∞–µ–º—ã:
- ‚úÖ `create_sync_manager_tab`: —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞

### ‚úÖ –¢–µ—Å—Ç 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
**–°—Ç–∞—Ç—É—Å:** PASSED

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏:
- ‚úÖ `sync_manager_get_cursor_state` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ `download_protocols_handler` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

---

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. –û—à–∏–±–∫–∞ —Å `limit` –≤ `process_pending_protocols`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ `limit=None` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ `None > 0`
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if limit and limit > 0:`
**–§–∞–π–ª:** `receiver/downloader/enhanced_service.py`

### 2. –û—à–∏–±–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ `_ensure_indexes`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `if collection:` –≤–º–µ—Å—Ç–æ `if collection is not None:`
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ —è–≤–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É `is not None`
**–§–∞–π–ª:** `receiver/sync_db/manager.py`

---

## –ò—Ç–æ–≥–∏

**–ü—Ä–æ–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤:** 6/6 (100%)

‚úÖ **–í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´!**

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤–∫–ª–∞–¥–æ–∫ **Sync Manager** –∏ **Download Control** –≥–æ—Ç–æ–≤ –∫ —Ä—É—á–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Sync Manager Tab

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
   - [ ] Incremental —Ä–µ–∂–∏–º (–æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫—É—Ä—Å–æ—Ä–∞)
   - [ ] Range —Ä–µ–∂–∏–º (–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç)
   - [ ] Backfill —Ä–µ–∂–∏–º (–¥–æ–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
   - [ ] Replay —Ä–µ–∂–∏–º (–ø–µ—Ä–µ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞)

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤:**
   - [ ] –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - [ ] –í–≤–æ–¥ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞—Ç
   - [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (batch size, dry-run, write mode)
   - [ ] –ó–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - [ ] –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ Run ID
   - [ ] –û—Ç–º–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫—É—Ä—Å–æ—Ä–∞
   - [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—É—Å–∫–æ–≤

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:**
   - [ ] –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞—Ç—ã
   - [ ] –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
   - [ ] –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ VPN –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### Download Control Tab

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:**
   - [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –¥–∞—Ç–µ
   - [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –¥–∞—Ç–µ
   - [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Å –ª–∏–º–∏—Ç–æ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
   - [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏
   - [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤:**
   - [ ] –í–≤–æ–¥ –¥–∞—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–∏–º–∏—Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
   - [ ] –ó–∞–ø—É—Å–∫ –∑–∞–≥—Ä—É–∑–∫–∏
   - [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
   - [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
   - [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
   - [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:**
   - [ ] –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ VPN –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - [ ] –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
   - [ ] –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

---

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
cd /root/winners_preprocessor/receiver/webui
python3 app.py
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:7860`

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–≤—è–∑–∞–Ω—ã —Å UI —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä—É—á–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

