# Pipeline template for pdf_text route
# PDF documents with text layer (born-digital)
# Optimized for Russian language text extraction
# Performance: ~40-70 PDF/hour/CPU

route: pdf_text

models:
  layout: publaynet_detectron2
  tables: table-transformer  # Включаем извлечение таблиц для лучшей структуры
  ocr: off  # Для pdf_text не нужен OCR, текст уже в PDF

performance:
  threads: 4
  batch_pages: 8

docling:
  parse_text: true
  extract_tables: true  # Извлекаем таблицы для сохранения структуры
  extract_figures: true
  do_caption_mentions: true
  do_table_of_contents: true
  # Настройки для лучшего извлечения русского текста
  preserve_layout: true  # Сохраняем layout документа
  preserve_formatting: true  # Сохраняем форматирование

# Настройки для русского языка
language:
  primary: ru
  fallback: en
  # Для корректного извлечения кириллицы используем UTF-8
  encoding: utf-8

processing_constraints:
  allow_gpu: false
  max_runtime_sec: 180
  max_memory_mb: 4096

