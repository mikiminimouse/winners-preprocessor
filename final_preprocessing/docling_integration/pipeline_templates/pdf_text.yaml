# Pipeline template for pdf_text route
# PDF documents with text layer (born-digital)
# OPTIMIZED for speed - tables and layout detection DISABLED
# Performance target: ~200-400 PDF/hour/CPU (5-15 sec/document)

route: pdf_text

models:
  layout: off           # DISABLED - publaynet_detectron2 is slow (~30-40 sec)
  tables: off           # DISABLED - table-transformer is very slow (~20-30 sec)
  ocr: off              # Not needed for pdf_text, text already in PDF

performance:
  threads: 4
  batch_pages: 8

docling:
  parse_text: true
  extract_tables: false  # DISABLED for speed (was: true)
  extract_figures: false # DISABLED for speed (was: true)
  do_caption_mentions: false
  do_table_of_contents: false
  preserve_layout: false # DISABLED for speed
  preserve_formatting: true
  # Image optimization
  generate_page_images: false
  generate_picture_images: false
  images_scale: 0.5     # Reduce image scale for memory optimization

# Language settings for Russian text
language:
  primary: ru
  fallback: en
  encoding: utf-8

processing_constraints:
  allow_gpu: false
  max_runtime_sec: 60   # Reduced from 180 - faster timeout
  max_memory_mb: 2048   # Reduced from 4096

# NOTE: For documents requiring table extraction, use pdf_text_tables route
