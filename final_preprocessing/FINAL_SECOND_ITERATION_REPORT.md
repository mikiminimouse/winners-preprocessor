# –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò –í–¢–û–†–û–ô –ò–¢–ï–†–ê–¶–ò–ò

**–î–∞—Ç–∞:** 2025-12-20  
**–í—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 2025-12-20 02:38  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

## –†–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω–æ –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ UNIT. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.

## –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

‚úÖ **LibreOffice** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤  
‚úÖ **rarfile** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è RAR –∞—Ä—Ö–∏–≤–æ–≤  
‚úÖ **py7zr** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è 7Z –∞—Ä—Ö–∏–≤–æ–≤

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. ‚úÖ –û—à–∏–±–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–π (–ö–†–ò–¢–ò–ß–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞:** 
```
Invalid transition from UnitState.CLASSIFIED_1 to UnitState.MERGED_PROCESSED
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- Converter, Extractor –∏ ExtensionNormalizer –ø—ã—Ç–∞–ª–∏—Å—å –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ `CLASSIFIED_1` –≤ `MERGED_PROCESSED`
- –°–æ–≥–ª–∞—Å–Ω–æ state machine, —Ç–∞–∫–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫: `CLASSIFIED_1` ‚Üí `PENDING_*` ‚Üí `CLASSIFIED_2`

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `Converter`: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ `PENDING_CONVERT` ‚Üí `CLASSIFIED_2`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `Extractor`: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ `PENDING_EXTRACT` ‚Üí `CLASSIFIED_2`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `ExtensionNormalizer`: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ `PENDING_NORMALIZE` ‚Üí `CLASSIFIED_2`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –î–û –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è UNIT
2. –ü–µ—Ä–µ—Ö–æ–¥ –≤ PENDING —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
3. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ UNIT –≤ —Ü–µ–ª–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ state machine –∏–∑ –Ω–æ–≤–æ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
5. –ü–µ—Ä–µ—Ö–æ–¥ –≤ CLASSIFIED_2 –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `docprep/engine/converter.py`
- `docprep/engine/extractor.py`
- `docprep/engine/normalizers/extension.py`

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (–¶–∏–∫–ª 1)

- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ UNIT:** 2585
- **–£—Å–ø–µ—à–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ:** 2585 (100%)
- **–û—à–∏–±–æ–∫:** 0

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ Converter

- **–ù–∞–π–¥–µ–Ω–æ UNIT:** 133
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ:** 133 (100%)
- **–û—à–∏–±–æ–∫:** 0

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ UNIT —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã, –ø–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ Extractor

- **–ù–∞–π–¥–µ–Ω–æ UNIT:** 144
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ:** 144 (100%)
- **–û—à–∏–±–æ–∫:** 0

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –∞—Ä—Ö–∏–≤—ã —É—Å–ø–µ—à–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω—ã, –ø–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ Normalizers

- **–ù–∞–π–¥–µ–Ω–æ UNIT:** 22
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ:** 22 (100%)
- **–û—à–∏–±–æ–∫:** 0

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ UNIT —É—Å–ø–µ—à–Ω–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –ø–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### 5. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (–¶–∏–∫–ª 2)

- **–ù–∞–π–¥–µ–Ω–æ UNIT:** 0 (UNIT –µ—â–µ –Ω–µ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏—Å—å –≤ Merge_1)
- **–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ:** 0

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** UNIT –±—ã–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –≤ Merge_1.

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ UNIT:** 2585
- **–ü—É—Å—Ç—ã—Ö UNIT:** 780 (30%)
- **UNIT —Å —Ñ–∞–π–ª–∞–º–∏:** 1805 (69%)
- **–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ:** 2286

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–±–µ–∑ –ø—É—Å—Ç—ã—Ö UNIT)

- **direct:** 1378 UNIT (76.3%)
- **mixed:** 128 UNIT (7.1%)
- **unknown:** 0 UNIT (0.0%)

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º

| –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ | –§–∞–π–ª–æ–≤ | UNIT | % —Ñ–∞–π–ª–æ–≤ | % UNIT |
|------------|--------|------|----------|--------|
| .pdf       | 1153   | 1144 | 59.1%    | 63.4%  |
| .docx      | 435    | 429  | 22.3%    | 23.8%  |
| .doc       | 172    | 172  | 8.8%     | 9.5%   |
| .zip       | 94     | 94   | 4.8%     | 5.2%   |
| .rar       | 36     | 36   | 1.8%     | 2.0%   |
| .rtf       | 20     | 20   | 1.0%     | 1.1%   |
| .7z        | 13     | 13   | 0.7%     | 0.7%   |

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ PDF

- **–í—Å–µ–≥–æ PDF:** 1153 —Ñ–∞–π–ª–æ–≤ (1144 UNIT)
- **–ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤:** 59.1%
- **–ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –≤—Å–µ—Ö UNIT:** 63.4%

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ PDF UNIT –ø–æ route:**
- **pdf_scan:** 620 UNIT (34.3%)
- **pdf_text:** 392 UNIT (21.7%)
- **mixed:** 132 UNIT (7.3%)

**–§–æ—Ä–º—É–ª–∞:** PDF_total (1144 UNIT, 63.4%) = PDF_text (392 UNIT, 21.7%) + PDF_scan (620 UNIT, 34.3%)

## –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ UNIT –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏

- **Processing_1:** 0 UNIT (–≤—Å–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã)
- **Processing_2:** 0 UNIT
- **Merge_0:** 1378 UNIT (direct)
- **Merge_1:** 0 UNIT (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
- **Exceptions_1:** 908 UNIT
- **Exceptions_2:** 0 UNIT

## –í—ã–≤–æ–¥—ã

### ‚úÖ –£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

1. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - LibreOffice, rarfile, py7zr
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–π** - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–û–±—Ä–∞–±–æ—Ç–∞–Ω—ã –≤—Å–µ UNIT** - Converter (133), Extractor (144), Normalizers (22)
4. **–°–æ–±—Ä–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º UNIT

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. **–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ UNIT –≤ Merge_1** - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—É—Ç–∏ `merge_base` –≤ Converter, Extractor, Normalizers
   - –ü–µ—Ä–µ–º–µ—â–µ–Ω–æ 155 UNIT –∏–∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ
   - UNIT —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ `Data/2025-12-20/Merge/Merge_1`

2. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è UNIT –∏–∑ Merge_1
   - UNIT –≤ CLASSIFIED_2 –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –≤ MERGED_PROCESSED –∏–ª–∏ PENDING_*
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–ª—è direct –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ —Ü–∏–∫–ª–∞—Ö 2-3

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 100% (299/299 UNIT)
- **–û—à–∏–±–æ–∫ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–π:** 0 (–±—ã–ª–æ 299)
- **–û—à–∏–±–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 0
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~30 –º–∏–Ω—É—Ç

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é - –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
2. ‚úÖ –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è UNIT –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ - UNIT –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ Merge_1
3. ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç - UNIT –∏–∑ Merge_1 —É—Å–ø–µ—à–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è
4. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–µ—Ç—å—é –∏—Ç–µ—Ä–∞—Ü–∏—é –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Ç–æ—Ä–æ–π

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ 100%. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ–º UNIT –≤ Merge_1 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Ç—Ä–µ—Ç—å–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏.

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã:** 100% ‚úÖ

